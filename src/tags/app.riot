<app>
  <error-view error={ error } />

  <split-view if={!syntaxError} {...{ viewDefinition }} />

  <script>
    import parse from "../parser";

    export default {
      onBeforeMount() {
        try {
          const queryString = location.search || location.hash.replace("#", "?");
          this.viewDefinition = parse(new URLSearchParams(queryString));
        } catch (error) {
          this.error = error;
        }
      },
    }
  </script>
</app>
